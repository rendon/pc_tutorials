<!DOCTYPE html>
<html>
<!--region head-->
<head>
    <title>Tutorial Title</title>
    <meta charset="utf-8" />

    <link rel="stylesheet" href="../style.css">
    <script type="text/javascript" src="../libs/syntaxhighlighter/scripts/shCore.js"></script>
    <script type="text/javascript" src="../libs/syntaxhighlighter/scripts/shBrushCpp.js" ></script>
    <script type="text/javascript" src="../libs/syntaxhighlighter/scripts/shBrushJScript.js"></script>

    <link rel="stylesheet" href="../libs/syntaxhighlighter/styles/shCore.css" />
    <link rel="stylesheet" href="../libs/syntaxhighlighter/styles/shCoreDefault.css" />

    <link rel="stylesheet" href="../libs/syntaxhighlighter/styles/shThemeDefault.css" />
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<!--endregion-->

<body>
    <header> <em>Algorithm Tutorials</em> <hr> </header>
    <content>
        <!--region tuturial header-->
        <div id="tutorial-header">
            <div id="tutorial-title">
                <h1>Understanding Probabilities</h1>
            </div>
            <div id="author-info">
                <div id="author-row">
                    <div id="author-photo">
                        <!-- pictures/author.png contains the author photo. -->
                        <img src="pictures/author.png" width="48" height="48" alt="alt_text" />
                    </div>
                    <div id="author-account-info">
                        <!-- replace [code] with the author's id. -->
                        <!-- replace [author_nick] accordingly. -->
                        <a href="http://community.topcoder.com/tc?module=MemberProfile&cr=7371063" target="_blank">supernova</a><br>
                        <em>TopCoder Member</em>
                    </div>
                </div>
            </div>
        </div>
        <!--endregion-->


        <!--region table of contents-->
        <div id="table-of-contents">
            <ol>
                <li><a href="#point-one">Point one</a></li>
                <li><a href="#point-two">Point two</a></li>
                <li><a href="#point-three">Point three</a></li>
            </ol>
        </div>
        <!--endregion-->


        <!--region article-->
        <div id="article">
            <p>It has been said that life is a school of probability. A major effect of probability theory on everyday life is in risk assessment. Let's suppose you have an exam and you are not  so well prepared. There are 20 possible subjects, but you only had time to prepare for 15. If two subjects are given, what chances do you have to be familiar with both?  This is an example of a simple question inspired by the world in which we live today. Life is a very complex chain of <b>events</b> and almost everything can be imagined in terms of probabilities.</p>
            <p>Gambling has become part of our lives and it is an area in which probability theory is obviously involved. Although gambling had existed since time immemorial, it was not until the seventeenth century that the mathematical foundations finally became established. It all started with a simple question directed to Blaise Pascal by Chevalier de Méré, a nobleman that gambled frequently to increase his wealth. The question was whether a double six could be obtained on twenty-four rolls of two dice.</p>
            <p>As far as TopCoder problems are concerned, they're inspired by reality. You are presented with many situations, and you are explained the rules of many games.  While it's easy to recognize a problem that deals with probability computations, the solution may not be obvious at all. This is partly because probabilities are often overlooked for not being a common theme in programming challenges. But it is not true and TopCoder has plenty of them! Knowing how to approach such problems is a big advantage in TopCoder competitions and this article is to help you prepare for this topic.</p>
            <p>Before applying the necessary algorithms to solve these problems, you first need some mathematical understanding. The next chapter presents the basic principles of probability. If you already have some experience in this area, you might want to skip this part and go to the following chapter: <a href="#stepbystep">Step by Step Probability Computation</a>. After that it follows a short discussion on <a href="#randomizedalg">Randomized Algorithms</a> and in the end there is a list with the available problems on TopCoder. This last part is probably the most important. Practice is the key!</p>

            <h1><a name="basics">Basics</a></h1>
            <p>Working with probabilities is much like conducting an experiment.  An <b>outcome</b> is the result of an experiment or other situation involving uncertainty. The set of all possible outcomes of a probability experiment is called a <b>sample space</b>. Each possible result of such a study is represented by one and only one point in the sample space, which is usually denoted by S.</p>
            <p>Let's consider the following experiments:</p>
            <div class="sideNote">
                Rolling a die once<br>
                Sample space S = {1, 2, 3, 4, 5, 6}<br>
                Tossing two coins<br>
                Sample space S = {(Heads, Heads), (Heads, Tails), (Tails, Heads), (Tails, Tails)}
            </div>

            <p>We define an <b>event</b> as any collection of outcomes of an experiment. Thus, an event is a subset of the sample space S. If we denote an event by <b>E</b>, we could say that  <b>E⊆S</b>. If an event consists of a single outcome in the sample space, it is called a simple event. Events which consist of more than one outcome are called compound events.</p>
            <p>What we are actually interested in is the probability of a certain event to occur, or <b>P(E)</b>. By definition, <b>P(E)</b> is a real number between 0 and 1, where 0 denotes the impossible event and 1 denotes the certain event (or the whole sample space).</p>

            <div class="figure">
                <img src="pictures/01.png" alt="Sample space" />
                <p>Image 1. Sample space</p>
            </div>

            <p>As stated earlier, each possible outcome is represented by exactly one point in the sample space. This leads us to the following formula:</p>

            <div class="figure">
                <img src="pictures/02.png" alt="Probability formula" />
            </div>

            <p>That is, the probability of an event to occur is calculated by dividing the number of <b>favorable outcomes</b> (according to the event E) by the <b>total number of outcomes</b> (according to the sample space S).</p>
            <p>In order to represent the relationships among events, you can apply the known principles of set theory. Consider the experiment of rolling a die once. As we have seen previously, the sample space is S = {1, 2, 3, 4, 5, 6}. Let's now consider the following events:</p>

            <div class="sideNote">
                Event A = 'score &gt; 3' = {4, 5, 6}<br>
                Event B = 'score is odd' = {1, 3, 5}<br>
                Event C = 'score is 7' = ∅<br>
                A∪B ='the score is &gt; 3 or odd or both' = {1, 3, 4, 5, 6}<br>
                A∩B ='the score is &gt; 3 and odd' = {5} <br>
                A'  = 'event A does not occur' = {1, 2, 3}
            </div>

            <p>We have:</p>

            <div class="sideNote">
                P(A∪B) = 5/6 <br>
                P(A∩B) = 1/6 <br>
                P(A')  =  1 - P(A) = 1 - 1/2 = 1/2 <br>
                P(C) = 0
            </div>

            <p>The first step when trying to solve a probability problem is to be able to recognize the sample space. After that, you basically have to determine the number of favorable outcomes. This is the classical approach, but the way we implement it may vary from problem to problem. Let's take a look at <a href="http://community.topcoder.com/stat?c=problem_statement&pm=2989&rd=5869">QuizShow</a> (SRM 223, Div 1 - Easy). The key to solving this problem is to take into account all the possibilities, which are not too many. After a short analysis, we determine the sample space to be the following:</p>

            <div class="sideNote">
            <b>S</b> = { (<b>wager 1</b> is wrong, <b>wager 2</b> is wrong, <b>you</b> are wrong),<br>
                    (<b>wager 1</b> is wrong, <b>wager 2</b> is wrong, <b>you</b> are right),<br>
                    (<b>wager 1</b> is wrong, <b>wager 2</b> is right, <b>you</b> are wrong),<br>
                    (<b>wager 1</b> is wrong, <b>wager 2</b> is right, <b>you</b> are right),<br>
                    (<b>wager 1</b> is right, <b>wager 2</b> is wrong, <b>you</b> are wrong),<br>
                    (<b>wager 1</b> is right, <b>wager 2</b> is wrong, <b>you</b> are right),<br>
                    (<b>wager 1</b> is right, <b>wager 2</b> is right, <b>you</b> are wrong),<br>
                    (<b>wager 1</b> is right, <b>wager 2</b> is right, <b>you</b> are right) }
            </div>

            <p>The problem asks you to find a wager that maximizes the number of favorable outcomes. In order to compute the number of favorable outcomes for a certain wager, we need to determine how many points the three players end with for each of the 8 possible outcomes. The idea is illustrated in the following program:</p>
            <pre class="brush: cpp">
int wager (vector  scores, int wager1, int wager2)
{
 int best, bet, odds, wage, I, J, K;
 best = 0; bet = 0;

 for (wage = 0; wage ≤ scores[0]; wage++)
 {
  odds = 0;
  //  in 'odds' we keep the number of favorable outcomes
  for (I = -1; I ≤ 1; I = I + 2)
   for (J = -1; J ≤ 1; J = J + 2)
    for (K = -1; K ≤ 1; K = K + 2)
     if (scores[0] + I * wage > scores[1] + J * wager1  &&
      scores[0] + I * wage > scores[2] + K * wager2)   { odds++; }
  if (odds > best)  { bet = wage ; best = odds; }
  //  a better wager has been found
 }
 return bet;
}
            </pre>

            <p>Another good problem to start with is <a href="http://community.topcoder.com/stat?c=problem_statement&pm=3994&rd=6532">PipeCuts</a> (SRM 233, Div 1 - Easy). This can be solved in a similar manner. There is a finite number of outcomes and all you need to do is to consider them one by one.</p>
            <p>Let's now consider a series of n independent events: E1, E2, ... , En. Two surprisingly common questions that may appear (and many of you have already encountered) are the following:</p>

            <ol>
                <li>What is the probability that all events will occur?</li>
                <li>What is the probability that at least one event will occur?</li>
            </ol>

            <p>To answer the first question, we relate to the occurrence of the first event (call it E1). If E1 does not occur, the hypothesis can no longer be fulfilled. Thus, it must be inferred that E1 occurs with a probability of P(E1). This means there is a P(E1) chance we need to check for the occurrence of the next event (call it E2). The event E2 occurs with a probability of P(E2) and we can continue this process in the same manner. Because probability is by definition a real number between 0 and 1, we can synthesize the probability that all events will occur in the following formula:</p>

            <div class="figure">
                <img src="pictures/03.png" alt="All events occur" />
            </div>

            <p>The best way to answer the second question is to first determine the probability that no event will occur and then, take the complement. We have:</p>

            <div class="figure">
                <img src="pictures/04.png" alt="At least one event" />
            </div>


            <p>These formulae are very useful and you should try to understand them well before you move.</p> 

            <h2><a href="http://community.topcoder.com/stat?c=problem_statement&pm=1848&rd=4675">BirthdayOdds</a></h2>
            <p>A good example to illustrate the probability concepts discussed earlier is the classical "Birthday Paradox". It has been shown that if there are at least 23 people in a room, there is a more than 50% chance that at least two of them will share the same birthday. While this is not a paradox in the real sense of the word, it is a mathematical truth that contradicts common intuition. The TopCoder problem asks you to find the minimum number of people in order to be more than minOdds% sure that at least two of them have the same birthday. One of the first things to notice about this problem is that it is much easier to solve the complementary problem: "What is the probability that N randomly selected people have all different birthdays?". The strategy is to start with an empty room and put people in the room one by one, comparing their birthdays with those of them already in the room:</p>

            <pre class="brush: cpp">
int minPeople (int minOdds, int days)
{
 int nr;
 double target, p;

 target = 1 - (double) minOdds / 100;
 nr = 1;
 p = 1;

 while (p &gt; target)
 {
  p = p * ( (double) 1 - (double) nr / days);
  nr ++;
 }

 return nr;
}
</pre>

            <p>This so called "Birthday Paradox" has many real world applications and one of them is described in the TopCoder problem called <a href="http://community.topcoder.com/stat?c=problem_statement&pm=1771&rd=4570">Collision</a> (SRM 153, Div 1 - Medium). The algorithm is practically the same, but one has to be careful about the events that may alter the sample space.</p>
            <p>Sometimes a probability problem can be quite tricky. As we have seen before, the 'Birthday Paradox' tends to contradict our common sense. But the formulas prove to us that the answer is indeed correct. Formulas can help, but to become a master of probabilities you need one more ingredient: "number sense". This is partly innate ability and partly learned ability acquired through practice. Take this <a href="http://teacherlink.org/content/math/interactive/probability/interactivequiz/question1/home.html">quiz</a> to assess your number sense and to also become familiar with some of the common probability misconceptions.</p>

            <h1><a name="point-two">Point two</a></h1>
            Some text.

            <h1><a name="point-three">Point three</a></h1>
            Some text.
        </div>
        <!--endregion-->
    </content>
    <footer>
    </footer>
</body>
</html>
